<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Covid-19 Dashboard</title>
    <link rel="stylesheet" href="../styles/base.css">
    <link rel="stylesheet" href="../styles/footer.css">
    <link rel="stylesheet" href="../styles/table.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">
</head>

<body>
  <%- include('../partials/header')%>
    <section>
        <div id="globalSummary">
            <h2>Newly Confirmed Cases: <%= summary.NewConfirmed%></h2>
            <h2>Total Confirmed Cases: <%= summary.TotalConfirmed%></h2>
            <h2>Newly Confirmed Deaths: <%= summary.NewDeaths%></h2>
            <h2>Total Confirmed Deaths: <%= summary.TotalDeaths%></h2>
            <h2>Newly Recovered Cases: <%= summary.NewRecovered%></h2>
            <h2>Total Recovered Cases: <%= summary.TotalRecovered%></h2>
        </div>
    </section>
    <section>
        <form action="/getCountry" method="post">
            <select name="country">
                <option value="default">Select Country</option>
                <%countries.forEach(val => {%>
                <option value="<%= val.Country%>"><%= val.Country%></option>
                <%})%>
            </select>
            <input type="submit" value="Show Results">
        </form>
    </section>
    <section id="canvas">
        <canvas id="myChart"></canvas>
    </section>
    <section id="canvas2">
        <canvas id="myChart2"></canvas>
    </section>
    <section id="tableSection">

          <table id="myTable" class="display" style="width:90%">
                   <thead>
                <tr>
                   <th>Cuntry Name</th>
                   <th>Total Confirmed</th>
                   <th>Total Deaths</th>
                   <th>Total Recovered</th>
                     </tr>
             </thead>
             <tbody>
               <%countries.forEach(val => {%>
                <tr>
                  <td class="row"><%= val.Country%></td>
                  <td class="row" ><%= val.TotalConfirmed%></td>
                  <td class="row" ><%= val.TotalDeaths%></td>
                  <td class="row" ><%= val.TotalRecovered %></td>
                      </tr>
                <%})%>
          </table>
     
    </section>
<%- include('../partials/footer')%>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
    <script type='text/javascript'>
        var allCountries =<%-JSON.stringify(countries) %>
        var selectedCo =<%-JSON.stringify(countryArr) %>

    </script>
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
     <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
    <script src="../script/test.js"></script>
    <script src="../script/header.js"></script>
</body>

</html>